-- Flux Client — простой LocalScript
-- Вставить в StarterPlayer -> StarterPlayerScripts

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Удаляем старый GUI если есть
local old = playerGui:FindFirstChild("FluxClientGUI")
if old then old:Destroy() end

-- ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FluxClientGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Основная квадратная панель (чёрная)
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 320, 0, 320) -- квадрат
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -160) -- центр
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(10,10,10) -- чёрный
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
mainFrame.ZIndex = 2

-- Закругления для эстетики
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 18)
mainCorner.Parent = mainFrame

-- Заголовок (белый текст "Flux client")
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, 0, 0, 48)
title.Position = UDim2.new(0, 0, 0, 8)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.Text = "Flux client"
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(255,255,255) -- белый
title.TextXAlignment = Enum.TextXAlignment.Center
title.Parent = mainFrame
title.ZIndex = 3

-- Пример внутреннего контента (можно удалить/изменить)
local exampleLabel = Instance.new("TextLabel")
exampleLabel.Name = "Example"
exampleLabel.Size = UDim2.new(0.9, 0, 0, 24)
exampleLabel.Position = UDim2.new(0.05, 0, 0.25, 0)
exampleLabel.BackgroundTransparency = 1
exampleLabel.Font = Enum.Font.Gotham
exampleLabel.Text = "Пример содержимого"
exampleLabel.TextSize = 16
exampleLabel.TextColor3 = Color3.fromRGB(200,200,200)
exampleLabel.TextXAlignment = Enum.TextXAlignment.Left
exampleLabel.Parent = mainFrame
exampleLabel.ZIndex = 3

-- Круглая кнопка-переключатель (всегда видима)
local toggleBtn = Instance.new("TextButton")
toggleBtn.Name = "ToggleButton"
toggleBtn.Size = UDim2.new(0, 46, 0, 46)
-- распологаем кнопку чуть правее и выше от правого верхнего угла mainFrame
toggleBtn.Position = UDim2.new(0.5, 160 - 24, 0.5, -160 - 24)
-- альтернативно можно закрепить в правом верхнем углу экрана:
-- toggleBtn.Position = UDim2.new(1, -64, 0, 16)
toggleBtn.AnchorPoint = Vector2.new(0, 0)
toggleBtn.BackgroundColor3 = Color3.fromRGB(45,45,48)
toggleBtn.BorderSizePixel = 0
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.Text = "×" -- крестик когда меню открыто
toggleBtn.TextSize = 20
toggleBtn.TextColor3 = Color3.fromRGB(255,255,255)
toggleBtn.Parent = screenGui
toggleBtn.ZIndex = 4

-- Сделаем кнопку круговой
local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(1, 0) -- 100% -> круг
btnCorner.Parent = toggleBtn

-- Небольшая тень/обводка для кнопки
local btnStroke = Instance.new("UIStroke")
btnStroke.Thickness = 1
btnStroke.Transparency = 0.6
btnStroke.Parent = toggleBtn

-- Функция переключения видимости меню
local function toggleMenu()
mainFrame.Visible = not mainFrame.Visible
if mainFrame.Visible then
toggleBtn.Text = "×"
else
toggleBtn.Text = "☰"
end
end

toggleBtn.MouseButton1Click:Connect(toggleMenu)

-- Стартовое состояние: открыто
mainFrame.Visible = true
toggleBtn.Text = "×"

-- Дополнительно: адаптивное позиционирование кнопки рядом с окном при ресайзе камеры
local function updateTogglePosition()
-- позиционируем кнопку относительно текущего положения mainFrame (правый верхний угол с отступом)
local absPos = mainFrame.AbsolutePosition
local absSize = mainFrame.AbsoluteSize
-- смещение: 12 пикселей вправо, 12 пикселей вверх от правого верхнего угла
toggleBtn.Position = UDim2.new(0, absPos.X + absSize.X - (toggleBtn.AbsoluteSize.X/2), 0, absPos.Y - (toggleBtn.AbsoluteSize.Y/2))
end

-- Обновляем позицию через Heartbeat (надёжно при изменениях размеров/позиции)
local RunService = game:GetService("RunService")
local heartbeatConn
heartbeatConn = RunService.Heartbeat:Connect(function()
if not toggleBtn or not mainFrame then
if heartbeatConn then heartbeatConn:Disconnect() end
return
end
-- защищённая попытка — избегаем ошибок при быстром удалении GUI
pcall(updateTogglePosition)
end)

print("Flux Client GUI (simple) loaded")
